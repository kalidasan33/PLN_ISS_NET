@using ISS.Core.Model.Textiles;
@using Kendo.Mvc.UI;
@using Kendo.Mvc.UI.Fluent;
@using ISS.Common;

@model  System.Data.DataTable

@(Html.Kendo().Grid(Model)
              .Name("grdDye")              
              .Columns(columns =>
               {
                   foreach (System.Data.DataColumn column in Model.Columns)
                   {
                       var c = columns.Bound(column.DataType, column.ColumnName).Width(LOVConstants.Width.Medium3);
                       
                       switch(column.ColumnName.ToLower())
                       {
                           case "dye":
                                c.Title(string.Empty);
                                //c.HtmlAttributes(new { @class = "ob-right" });                            
                                break;
                           case "b":
                               c.Title("Bleach");
                               c.HtmlAttributes(new { @class = "ob-right" });
                               break;
                           case "d":
                               c.Title("Dye");
                               c.HtmlAttributes(new { @class = "ob-right" });
                               break;
                           case "e":
                               c.Title("Title");
                               //c.HtmlAttributes(new { @class = "ob-right" });
                               break;                       
                       }
                       if (column.ColumnName == "Total")
                       {
                           c.HtmlAttributes(new { @class = "ob-right" });
                       }  
                   }
               }
                    )
                .Scrollable(scroll =>
                {
                    scroll.Enabled(true);
                    scroll.Height("auto");
                })
                
                .Resizable(resizing => resizing.Columns(true))
                .DataSource(dataSource => dataSource
                    .Ajax()
                    .Model(model =>
                            {
                                foreach (System.Data.DataColumn column in Model.Columns)
                                {
                                    model.Field(column.ColumnName, column.DataType);
                                }
                            })
                    .ServerOperation(false)                   
                   
                )
                .Events(ev => ev.DataBound("textiles.onTextileGridDataBound"))
)